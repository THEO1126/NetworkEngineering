# 一、常用命令

## 交换机配置

```shell
display version  查看交换机软件版本
display clock    查看交换机时钟
display saved-configuration    显示系统保存配置
display current-configuration  显示系统当前配置
reset saved-configuration    恢复交换机出厂设置
reboot 重启
sysname sw1  设备重命名
undo info-center enable 关闭信息提示

```
## 接口管理

```shell
interface gigabitethernet 0/0/1     进入指定的接口或子接口视图，进入0/0/1的接口
display interface               查看接口当前运行状态和接口统计信息
display interface brief         查看接口状态和配置的简要信息。
display interface description   查看指定接口的描述信息
display interface vlanif        查看VLANIF接口的状态信息、配置信息和统计信息。
```


## 端口管理

```shell
port                                               配置接口的缺省VLAN并加入该VLAN
port description                                   配置接口的描述信息，描述与接口相连的设备类型
port gigabitethernet 0/0/1 to 0/0/4
port default vlan                                  配置接口的缺省VLAN并同时加入这个VLAN。
port link-type {access | hybird | trunk}           配置接口的链路类型
port trunk allow-pass vlan {vlanid}                将trunk接口加入vlan
port default vlan {vlanid}

# 端口组
port-group group-member g0/0/1 to g0/0/4    创建临时端口组
port-group _port-group-name_   创建并进入永久端口组视图
group-member g0/0/1 to g0/0/4   进入端口组后，将接口添加到指定永久端口组中
undo group-member g0/0/1  将指定端口从端口组移除
undo port-group _port-group-name_ 删除端口组
```
## VLAN管理


```shell
vlan {id}                      创建VLAN并进入VLAN视图，如果VLAN已存在，直接进入该VLAN的视图。
vlan batch 10 to 20            批量创建VLAN
vlan batch 20 23 25            创建多个vlan
vlan range 10 to 20            创建临时VLAN组，并进入VLAN-Range视图
vlan statistics                配置VLAN的流量统计模式，即配置按包或按字节进行VLAN流量统计。
vlan statistics interval       配置VLAN的流量统计的时间间隔
ip address                     用来配置接口的IP地址。 
```

删除vlan
```shell
删除vlan

[Huawei]int vlan 40                  进入该vlan视图
[Huawei-Vlanif40]undo ip address     删除绑定的ip地址
[Huawei]undo interface Vlanif 40     删除vlan
``` 
## VLAN查看

```shell
display vlan                              显示VLAN信息
display vlan {pvid} verbose               查看vlan的详细信息
display port vlan                         查看VLAN中包含的接口信息
display sub-vlan                          查看Sub-VLAN类型的VLAN表项信息
display super-vlan                        查看Super-VLAN类型的VLAN表项信息
display mac-vlan mac-address all          查看所有MAC地址划分VLAN的配置信息
display mac-vlan vlan 2                   查看vlan 2 MAC地址划分VLAN的配置信息
```

## 查看路由

```shell
display ip routing-table        显示路由信息
display ospf peer               查看ospf邻接等信息
display ospf peer brief         查看ospf邻接等简要信息
display rip                     查看rip路由信息
```


## 静态路由

```shell
<Huawei> system-view
# 查看IPv4路由表中当前激活路由的摘要信息
<Huawei> display ip routing-table
#ip route-static 目的ip  目标地址掩码  下一跳ip
[Huawei] ip route-static 10.0.1.0 255.255.255.0 10.0.0.1
#删除路由
[Huawei] undo ip route-static 10.0.1.0 255.255.255.0 10.0.0.1
```

## MAC地址
```shell
#查询MAC地址表
display mac-address
#查看交换机某个 vlan 对应的 mac-address
mac-address vlan 1
#查询指定 mac-address 相关信息
display mac-address 6C4B-909D-41F6
# 令查询IP地址与MAC地址的映射关系
display arp
```

## DHCP操作

```shell
<ac> system-view
#开启DHCP功能
[ac] dhcp enable
#进入vlan的接口视图
[ac] interface vlan 1
#设置vlan的三层网关路由
[ac-Vlanif1] ip address 192.168.10.1 255.255.255.0
#开启接口采用接口地址池的DHCP服务器功能。
[ac-Vlanif1] dhcp select interface
```

### DHCP地址池

**创建地址池范围**
```shell
#1、基于接口视图
[ac]interface vlan 1
# 指定的DHCP Server预分配给DHCP Client的IP地址范围。
## dhcp server ip-range start-ip-address end-ip-address
[ac-Vlanif1] dhcp server ip-range 192.168.10.100 192.168.10.120
# 指定DHCP Server预  分配给DHCP Client的IP地址的子网掩码
## dhcp server mask { mask | mask-length }
[ac-Vlanif1] dhcp server mask 255.255.255.0
```
**配置不参与自动分配的 IP 地址**
```shell
#1、基于接口视图
[ac]interface vlan 1
# 配置地址池中不参与自动分配的IP地址
## dhcp server excluded-ip-address start-ip-address [ end-ipaddress ]
[ac-Vlanif1]dhcp server excluded-ip-address 192.168.1.10
[ac-Vlanif1]dhcp server excluded-ip-address 192.168.10 230 192.168.10 240
```

### DHCP配置举例

在AC上配置VLANIF100接口为AP提供IP地址，配置VLANIF101接口为STA提供IP地址，并配置下一跳为Router的缺省路由
```shell
[AC] dhcp enable  
[AC] interface vlanif 100  
[AC-Vlanif100] ip address 10.23.100.1 24  
[AC-Vlanif100] dhcp select interface  
[AC-Vlanif100] quit  
[AC] interface vlanif 101  
[AC-Vlanif101] ip address 10.23.101.1 24  
[AC-Vlanif101] dhcp select interface  
[AC-Vlanif101] dhcp server excluded-ip-address 10.23.101.2  
[AC-Vlanif101] quit  
[AC] ip route-static 0.0.0.0 0.0.0.0 10.23.101.2
# DNS服务器地址
# 接口地址池场景，需要在VLANIF接口视图下执行命令
dhcp server dns-list ip-address  &<1-8>
#全局地址池场景，需要在IP地址池视图下执行命令
dns-list ip-address &<1-8>
```

## WLAN

```shell
# 查看SSID为wlan-net的配置信息
[AC]display vap ssid wlan-net
# 查看状态
[AC]display station ssid wlan-net
```

# 二、知识点

## IP地址

**私有IP地址**

- A类地址范围：10.0.0.0到10.255.255.255
    
- B类地址范围：172.16.0.0到172.31.255.255
    
- C类地址范围：192.168.0.0到192.168.255.255

## 端口链路类型

[华为---VLAN的 Access、Trunk、Hybrid端口对比解析及示例配置_port hybrid pvid vlan 10-CSDN博客](https://blog.csdn.net/lehe99/article/details/132119565)

### Access链路类型

Access链路类型是最常见的以太网端口链路类型之一。在这种模式下，交换机的端口**用于连接单个设备，如计算机、服务器或打印机。** Access端口只传输所连接设备所在的VLAN中的数据包。这种模式通常用于小型网络中。

 **优点**

- **简单**：Access链路类型非常简单，只需将端口连接到设备上即可。
- **安全**：Access链路类型只传输所连接设备所在的VLAN中的数据包，从而降低了网络攻击的风险。

**缺点**

- **不灵活**：Access链路类型只允许传输一个VLAN的数据包，如果需要连接多个VLAN，则需要使用Trunk或Hybrid链路类型。

### Trunk链路类型

Trunk链路类型是用于连接不同VLAN的以太网端口链路类型之一。在这种模式下，**交换机的端口用于连接多个VLAN，使它们可以互相通信。** Trunk端口可以同时传输多个VLAN的数据包。这种模式通常用于需要大量带宽和多个VLAN的网络中，如数据中心和企业网络。

 **优点**

- **节省物理端口**：Trunk链路类型可以使用一条物理链路来传输多个VLAN的数据，这样可以节省物理端口和网络带宽。
- **灵活**：Trunk链路类型允许管理员配置不同的VLAN之间的通信，从而使网络更加灵活。

 **缺点**

- **安全问题**：由于Trunk端口可以传输多个VLAN的数据包，所以如果没有正确配置，可能会造成安全问题。

### Hybrid链路类型

Hybrid链路类型是一种同时支持Access和Trunk功能的以太网端口链路类型。在这种模式下，**交换机的端口可以同时连接单个设备和多个VLAN，从而实现单个设备在不同VLAN之间通信的目的。** 这种模式通常用于需要连接多个VLAN，但同时需要单个设备可以访问不同的VLAN的网络中。

 **优点**

- **灵活性**：Hybrid链路类型可以同时满足Access和Trunk链路类型的需求，可以在单个端口上提供更多的灵活性和可配置性。

 **缺点**

- **复杂性**：与Access和Trunk链路类型相比，Hybrid链路类型的配置和管理较为复杂。需要管理员了解多个VLAN之间的通信关系，以确保网络安全。

![[端口类别.png]]

![[端口类别2.png]]



# 三、工具使用

## ENSP

[Windows10添加回环网卡_创建环回网卡-CSDN博客](https://blog.csdn.net/weixin_45650628/article/details/131058666?spm=1001.2014.3001.5501)

[eNSP AC WEB配置（史上最详细）_enspacweb配置-CSDN博客](https://blog.csdn.net/weixin_45650628/article/details/131145731)